/*! For license information please see smart-wallet.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("spb",[],t):"object"==typeof exports?exports.spb=t():e.spb=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return{}.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var a=(n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]=u[2]?"".concat(n," and ").concat(u[2]):n),t.push(u))}},t}},function(e,t,n){"use strict";var r={};function o(e){e.forEach((function(e){if(--r[e]<=0){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}}))}e.exports=function(e,t){for(var n,i=void 0===t?{}:t,a=i.replace,c=void 0!==a&&a,u=i.prepend,s=void 0!==u&&u,l=i.prefix,f=void 0===l?"s":l,d=[],p=0;p<e.length;p++){var h=e[p],_=h[1],v=h[2],m=h[3],y=""+f+h[0]+"-"+p;if(d.push(y),!r[y]||c){r[y]=1;var w=document.getElementById(y),g=!1;w||(g=!0,(w=document.createElement("style")).setAttribute("type","text/css"),w.id=y,v&&w.setAttribute("media",v));var b=_;m&&"function"==typeof btoa&&(b+="\n/*# sourceMappingURL=data:application/json;base64,"+(n=JSON.stringify(m),btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}))))+"*/",b+="\n/*# sourceURL="+m.file+"?"+y+"*/"),"textContent"in w?w.textContent=b:w.styleSheet.cssText=b,g&&(s?document.head.insertBefore(w,document.head.childNodes[0]):document.head.appendChild(w))}else r[y]++}return o.bind(null,d)}},function(e,t,n){var r=n(6),o=n(1),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},function(e,t,n){var r=n(7),o=n(1),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},function(e,t,n){var r=n(8),o=n(1),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},function(e,t,n){var r=n(9),o=n(1),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},function(e,t,n){(t=n(0)(!1)).push([e.i,".wallet-item[data-v-fdd787a1]{cursor:pointer;width:100%;display:flex;justify-content:flex-start;align-items:center;padding:0 20px;box-sizing:border-box;transition:background-color 0.3s ease-in-out;height:60px}@media only screen and (max-width: 600px){.wallet-item[data-v-fdd787a1]{height:50px}}.wallet-item .icon[data-v-fdd787a1]{display:inline-block;vertical-align:top;text-align:center;width:50px;margin-right:20px}.wallet-item .icon img[data-v-fdd787a1]{max-height:90%;max-width:90%}.wallet-item .description[data-v-fdd787a1]{display:inline-block;vertical-align:top}.wallet-item .description .name[data-v-fdd787a1]{font-size:16px;margin-bottom:5px}@media only screen and (max-width: 600px){.wallet-item .description .name[data-v-fdd787a1]{font-size:13px}}.wallet-item .description .details[data-v-fdd787a1]{color:#6c7378;font-size:14px}@media only screen and (max-width: 600px){.wallet-item .description .details[data-v-fdd787a1]{font-size:12px}}.wallet-item .preferred[data-v-fdd787a1]{background-color:#eaf7e9;color:#2d542b;font-size:10px;padding:2px 5px;border-radius:3px;margin:0 5px}.wallet-item[data-v-fdd787a1]:hover{background-color:#eee}\n",""]),e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"",""]),e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".add-card-button[data-v-d2ff3bcf]{padding:20px}.add-card-button a[data-v-d2ff3bcf]{color:#007ab7;font-weight:400;font-size:16px;text-decoration:none}.add-card-button a[data-v-d2ff3bcf]:hover{text-decoration:underline}\n",""]),e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"html,body{margin:0;width:100%;overflow:hidden;font-family:Helvetica Neue, HelveticaNeue, HelveticaNeue-Light, Helvetica Neue Light, helvetica, arial, sans-serif}*{box-sizing:border-box}.flex-spacer{flex:1}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"setupWallet",(function(){return Pt})),n.d(t,"renderWallet",(function(){return Ct}));var r,o,i,a,c,u,s,l={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var r,o=arguments,i={};for(r in t)"key"!==r&&"ref"!==r&&(i[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===i[r]&&(i[r]=e.defaultProps[r]);return v(e,i,t&&t.key,t&&t.ref)}function v(e,t,n,o){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return r.vnode&&r.vnode(i),i}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function g(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return g(e)}}function b(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!i++||c!==r.debounceRendering)&&((c=r.debounceRendering)||a)(k)}function k(){for(var e;i=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],r=E(a,o,p({},o),t.__n,void 0!==a.ownerSVGElement,null,n,null==i?w(o):i),S(n,o),r!=i&&g(o)))}))}function A(e,t,n,r,o,i,a,c,u){var s,d,p,_,v,m,y,g=n&&n.__k||f,b=g.length;if(c==l&&(c=null!=i?i[0]:b?w(n,0):null),s=0,t.__k=x(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=g[s])||p&&n.key==p.key&&n.type===p.type)g[s]=void 0;else for(d=0;d<b;d++){if((p=g[d])&&n.key==p.key&&n.type===p.type){g[d]=void 0;break}p=null}if(_=E(e,n,p=p||l,r,o,i,a,c,u),(d=n.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,n),y.push(d,n.__c||_,n)),null!=_){var f;if(null==m&&(m=_),void 0!==n.__d)f=n.__d,n.__d=void 0;else if(i==p||_!=c||null==_.parentNode){e:if(null==c||c.parentNode!==e)e.appendChild(_),f=null;else{for(v=c,d=0;(v=v.nextSibling)&&d<b;d+=2)if(v==_)break e;e.insertBefore(_,c),f=c}"option"==t.type&&(e.value="")}c=void 0!==f?f:_.nextSibling,"function"==typeof t.type&&(t.__d=c)}else c&&p.__e==c&&c.parentNode!=e&&(c=w(p))}return s++,n})),t.__e=m,null!=i&&"function"!=typeof t.type)for(s=i.length;s--;)null!=i[s]&&h(i[s]);for(s=b;s--;)null!=g[s]&&j(g[s],g[s]);if(y)for(s=0;s<y.length;s++)P(y[s],y[++s],y[++s])}function x(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)x(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?v(null,e,null,null):null!=e.__e||null!=e.__c?v(e.type,e.props,e.key,null):e):e);return n}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function T(e,t,n,r,o){var i,a,c,u,s;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(a in r)n&&a in n||I(i,a,"");if(n)for(c in n)r&&n[c]===r[c]||I(i,c,n[c])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(r||e.addEventListener(t,D,u),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,D,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function D(e){this.l[e.type](r.event?r.event(e):e)}function E(e,t,n,o,i,a,c,u,s){var l,f,d,h,_,v,w,g,b,k,x=t.type;if(void 0!==t.constructor)return null;(l=r.__b)&&l(t);try{e:if("function"==typeof x){if(g=t.props,b=(l=x.contextType)&&o[l.__c],k=l?b?b.props.value:l.__:o,n.__c?w=(f=t.__c=n.__c).__=f.__E:("prototype"in x&&x.prototype.render?t.__c=f=new x(g,k):(t.__c=f=new y(g,k),f.constructor=x,f.render=O),b&&b.sub(f),f.props=g,f.state||(f.state={}),f.context=k,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,x.getDerivedStateFromProps(g,f.__s))),h=f.props,_=f.state,d)null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==x.getDerivedStateFromProps&&g!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,k)){for(f.props=g,f.state=f.__s,f.__d=!1,f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&c.push(f),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,_,v)}))}f.context=k,f.props=g,f.state=f.__s,(l=r.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),t.__k=null!=l&&l.type==m&&null==l.key?l.props.children:Array.isArray(l)?l:[l],null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,_)),A(e,t,n,o,i,a,c,u,s),f.base=t.__e,f.__h.length&&c.push(f),w&&(f.__E=f.__=null),f.__e=!1}else t.__e=C(n.__e,t,n,o,i,a,c,s);(l=r.diffed)&&l(t)}catch(e){r.__e(e,t,n)}return t.__e}function S(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function C(e,t,n,r,o,i,a,c){var u,s,d,p,h,_=n.props,v=t.props;if(o="svg"===t.type||o,null!=i)for(u=0;u<i.length;u++)if(null!=(s=i[u])&&((null===t.type?3===s.nodeType:s.localName===t.type)||e==s)){e=s,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,v.is&&{is:v.is}),i=null}if(null===t.type)_!==v&&e.data!=v&&(e.data=v);else if(t!==n){if(null!=i&&(i=f.slice.call(e.childNodes)),d=(_=n.props||l).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!c){if(_===l)for(_={},h=0;h<e.attributes.length;h++)_[e.attributes[h].name]=e.attributes[h].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,o){var i;for(i in n)i in t||T(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"value"===i||"checked"===i||n[i]===t[i]||T(e,i,t[i],n[i],r)})(e,v,_,o,c),t.__k=t.props.children,p||A(e,t,n,r,"foreignObject"!==t.type&&o,i,a,l,c),c||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function P(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function j(e,t,n){var o,i,a;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||P(o,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&j(o[a],t,n);null!=i&&h(i)}function O(e,t,n){return this.constructor(e,n)}r={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return b(n.__E=n)}catch(t){e=t}throw e}},y.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},y.prototype.render=m,o=[],i=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=l,s=0;var N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,R=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},L=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},H=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},U={};function W(e){var t="";for(var n in e){var r=e[n];null!=r&&(t&&(t+=" "),t+=U[n]||(U[n]=n.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=r,"number"==typeof r&&!1===N.test(n)&&(t+="px"),t+=";")}return t||void 0}function M(e,t){for(var n in t)e[n]=t[n];return e}function z(e,t){return Array.isArray(t)?t.reduce(z,e):null!=t&&!1!==t&&e.push(t),e}var q={shallow:!0},B=[],F=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;function $(e,t,n,o,i,a){if(null==e||"boolean"==typeof e)return"";Array.isArray(e)&&(e=_(m,null,e));var c=e.type,u=e.props,s=!1;t=t||{};var l,f=(n=n||{}).pretty,d=f&&"string"==typeof f?f:"\t";if("object"!=typeof e&&!c)return R(e);if("function"==typeof c){if(s=!0,!n.shallow||!o&&!1!==n.renderRootComponent){if(c===m){var p="",h=[];z(h,e.props.children);for(var v=0;v<h.length;v++)p+=(v>0&&f?"\n":"")+$(h[v],t,n,!1!==n.shallowHighOrder,i,a);return p}var y,w=e.__c={__v:e,context:t,props:e.props,__h:[]};if(r.__r&&r.__r(e),c.prototype&&"function"==typeof c.prototype.render){var g=c.contextType,b=g&&t[g.__c],k=null!=g?b?b.props.value:g.__:t;(w=e.__c=new c(u,k)).__v=e,w._dirty=w.__d=!0,w.props=u,null==w.state&&(w.state={}),null==w._nextState&&null==w.__s&&(w._nextState=w.__s=w.state),w.context=k,c.getDerivedStateFromProps?w.state=M(M({},w.state),c.getDerivedStateFromProps(w.props,w.state)):w.componentWillMount&&w.componentWillMount(),w.state=w._nextState!==w.state?w._nextState:w.__s!==w.state?w.__s:w.state,y=w.render(w.props,w.state,w.context)}else{var A=c.contextType,x=A&&t[A.__c];y=c.call(e.__c,u,null!=A?x?x.props.value:A.__:t)}return w.getChildContext&&(t=M(M({},t),w.getChildContext())),$(y,t,n,!1!==n.shallowHighOrder,i,a)}c=(l=c).displayName||l!==Function&&l.name||function(e){var t=(function(){}.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,r=B.length;r--;)if(B[r]===e){n=r;break}n<0&&(n=B.push(e)-1),t="UnnamedComponent"+n}return t}(l)}var I,T="";if(u){var D=Object.keys(u);n&&!0===n.sortAttributes&&D.sort();for(var E=0;E<D.length;E++){var S=D[E],C=u[S];if("children"!==S&&!S.match(/[\s\n\\/='"\0<>]/)&&(n&&n.allAttributes||"key"!==S&&"ref"!==S)){if("className"===S){if(u.class)continue;S="class"}else i&&S.match(/^xlink:?./)&&(S=S.toLowerCase().replace(/^xlink:?/,"xlink:"));"style"===S&&C&&"object"==typeof C&&(C=W(C));var P=n.attributeHook&&n.attributeHook(S,C,t,n,s);if(P||""===P)T+=P;else if("dangerouslySetInnerHTML"===S)I=C&&C.__html;else if((C||0===C||""===C)&&"function"!=typeof C){if(!(!0!==C&&""!==C||(C=S,n&&n.xml))){T+=" "+S;continue}if("value"===S){if("select"===c){a=C;continue}"option"===c&&a==C&&(T+=" selected")}T+=" "+S+'="'+R(C)+'"'}}}}if(f){var j=T.replace(/^\n\s*/," ");j===T||~j.indexOf("\n")?f&&~T.indexOf("\n")&&(T+="\n"):T=j}if(T="<"+c+T+">",String(c).match(/[\s\n\\/='"\0<>]/))throw new Error(c+" is not a valid HTML tag name in "+T);var O=String(c).match(F);O&&(T=T.replace(/>$/," />"));var N,U=[];if(I)f&&H(I)&&(I="\n"+d+L(I,d)),T+=I;else if(u&&z(N=[],u.children).length){for(var q=f&&~T.indexOf("\n"),Y=!1,X=0;X<N.length;X++){var J=N[X];if(null!=J&&!1!==J){var Z=$(J,t,n,!0,"svg"===c||"foreignObject"!==c&&i,a);if(f&&!q&&H(Z)&&(q=!0),Z)if(f){var G=Z.length>0&&"<"!=Z[0];Y&&G?U[U.length-1]+=Z:U.push(Z),Y=G}else U.push(Z)}}if(f&&q)for(var Q=U.length;Q--;)U[Q]="\n"+d+L(U[Q],d)}if(U.length)T+=U.join("");else if(n&&n.xml)return T.substring(0,T.length-1)+" />";return O||(f&&~T.indexOf("\n")&&(T+="\n"),T+="</"+c+">"),T}$.render=$,$.shallowRender=function(e,t){return $(e,t,q)};var Y=$;function X(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}var J,Z=[],G=[],Q=0;function V(){if(!Q&&J){var e=J;J=null,e.resolve()}}function K(){Q+=1}function ee(){Q-=1,V()}var te=function(){function e(e){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n,r,o=!1,i=!1,a=!1;K();try{e((function(e){a?t.resolve(e):(o=!0,n=e)}),(function(e){a?t.reject(e):(i=!0,r=e)}))}catch(e){return ee(),void this.reject(e)}ee(),a=!0,o?this.resolve(n):i&&this.reject(r)}}var t=e.prototype;return t.resolve=function(e){if(this.resolved||this.rejected)return this;if(X(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},t.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(X(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===Z.indexOf(e)){Z.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<G.length;n++)G[n](e,t)}}(e,t)}),1),this.dispatch(),this},t.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},t.dispatch=function(){var t=this.resolved,n=this.rejected,r=this.handlers;if(!this.dispatching&&(t||n)){this.dispatching=!0,K();for(var o=function(e,t){return e.then((function(e){t.resolve(e)}),(function(e){t.reject(e)}))},i=0;i<r.length;i++){var a=r[i],c=a.onSuccess,u=a.onError,s=a.promise,l=void 0;if(t)try{l=c?c(this.value):this.value}catch(e){s.reject(e);continue}else if(n){if(!u){s.reject(this.error);continue}try{l=u(this.error)}catch(e){s.reject(e);continue}}l instanceof e&&(l.resolved||l.rejected)?(l.resolved?s.resolve(l.value):s.reject(l.error),l.errorHandled=!0):X(l)?l instanceof e&&(l.resolved||l.rejected)?l.resolved?s.resolve(l.value):s.reject(l.error):o(l,s):s.resolve(l)}r.length=0,this.dispatching=!1,ee()}},t.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},t.catch=function(e){return this.then(void 0,e)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},t.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:X(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var n=new e,r=t.length,o=[];if(!r)return n.resolve(o),n;for(var i=function(e,t,i){return t.then((function(t){o[e]=t,0==(r-=1)&&n.resolve(o)}),(function(e){i.reject(e)}))},a=0;a<t.length;a++){var c=t[a];if(c instanceof e){if(c.resolved){o[a]=c.value,r-=1;continue}}else if(!X(c)){o[a]=c,r-=1;continue}i(a,e.resolve(c),n)}return 0===r&&n.resolve(o),n},e.hash=function(t){var n={};return e.all(Object.keys(t).map((function(r){return e.resolve(t[r]).then((function(e){n[r]=e}))}))).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return G.push(e),{cancel:function(){G.splice(G.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o;K();try{o=t.apply(n,r||[])}catch(t){return ee(),e.reject(t)}return ee(),e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||X(t)},e.flush=function(){return t=J=J||new e,V(),t;var t},e}();function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re="Call was rejected by callee.\r\n";function oe(e){return void 0===e&&(e=window),"about:"===e.location.protocol}function ie(e){try{return!0}catch(e){}return!1}function ae(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if("file:"===n)return"file://";if("about:"===n){var r=function(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}(e);return r&&ie()?ae(r):"about://"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function ce(e){void 0===e&&(e=window);var t=ae(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}var ue=[],se=[];function le(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==re}if(t&&function(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(oe(e)&&ie())return!0}catch(e){}try{if(ae(e)===ae(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(oe(e)&&ie())return!0;if(ce(window)===ce(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(ue,e);if(-1!==n){var r=se[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var n=e;n.parentNode&&n.parentNode!==n;)n=n.parentNode;if(!n.host||!t.documentElement.contains(n.host))return!0}return!1}(r))return!0}return!1}function fe(e){try{if(e===window)return!0}catch(e){if(e&&e.message===re)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===re)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===re)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===re)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===re)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===re)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}return!1}function de(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var pe,he=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(fe(r)&&le(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},t.isSafeToReadWrite=function(e){return!fe(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=t:Object.defineProperty(e,r,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,c=de(i,e);-1===c?(i.push(e),a.push(t)):a[c]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return n&&n[0]===e?n[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=de(this.keys,e);if(-1!==r)return this.values[r]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=de(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return!(!n||n[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==de(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}();function _e(e){return e.name||e.__name__||e.displayName||"anonymous"}function ve(e,t){try{delete e.name,e.name=t}catch(e){}return e.__name__=e.displayName=t,e}function me(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(pe=pe||new he,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t,n=pe.get(e);return n||(n=typeof e+":"+(t="0123456789abcdef","xxxxxxxxxx".replace(/./g,(function(){return t.charAt(Math.floor(Math.random()*t.length))}))+"_"+function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()),pe.set(e,n)),n}(t)+"]":t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}var ye=[];function we(e,t){var n=this;void 0===t&&(t={});var r=new he,o=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.getOrSet(t.thisNamespace?this:e,(function(){return{}})),c=me(o),u=t.time;if(a[c]&&u&&Date.now()-a[c].time<u&&delete a[c],a[c])return a[c].value;var s=Date.now(),l=e.apply(this,arguments);return a[c]={time:s,value:l},a[c].value};return o.reset=function(){r.delete(t.thisNamespace?n:e)},ye.push(o),ve(o,(t.name||_e(e))+"::memoized")}function ge(e,t,n){void 0===n&&(n=[]);var r=e.__inline_memoize_cache__=e.__inline_memoize_cache__||{},o=me(n);return r.hasOwnProperty(o)?r[o]:r[o]=t.apply(void 0,n)}function be(){}function ke(e,t){void 0===t&&(t=Boolean);var n={};for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)&&(n[r]=e[r]);return n}function Ae(e){return ge(Ae,(function(){var t={};if(!e)return t;if(-1===e.indexOf("="))return t;for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n];(o=o.split("="))[0]&&o[1]&&(t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return t}),[e])}function xe(e,t){return void 0===t&&(t=window),new te((function(n){t.location=e,function(e){return-1===e.indexOf("#")||0!==e.indexOf("#")&&e.split("#")[0]!==window.location.href.split("#")[0]}(e)||n()}))}function Ie(){return"undefined"!=typeof window}we.clear=function(){for(var e=0;e<ye.length;e++)ye[e].reset()},Object.create(Error.prototype);var Te=[];function De(e){var t=e.url,n=e.method,r=void 0===n?"get":n,o=e.headers,i=void 0===o?{}:o,a=e.json,c=e.data,u=e.body,s=e.win,l=void 0===s?window:s,f=e.timeout,d=void 0===f?0:f;return new te((function(e,n){if(a&&c||a&&u||c&&a)throw new Error("Only options.json or options.data or options.body should be passed");for(var o={},s=0,f=Object.keys(i);s<f.length;s++){var p=f[s];o[p.toLowerCase()]=i[p]}a?o["content-type"]=o["content-type"]||"application/json":(c||u)&&(o["content-type"]=o["content-type"]||"application/x-www-form-urlencoded; charset=utf-8"),o.accept=o.accept||"application/json";for(var h=0;h<Te.length;h++)for(var _=(0,Te[h])(),v=0,m=Object.keys(_);v<m.length;v++){var y=m[v];o[y.toLowerCase()]=_[y]}var w=new l.XMLHttpRequest;for(var g in w.addEventListener("load",(function(){var o=function(e){void 0===e&&(e="");for(var t={},n=0,r=e.trim().split("\n");n<r.length;n++){var o=r[n].split(":"),i=o[0],a=o.slice(1);t[i.toLowerCase()]=a.join(":").trim()}return t}(this.getAllResponseHeaders());if(!this.status)return n(new Error("Request to "+r.toLowerCase()+" "+t+" failed: no response status code."));var i=o["content-type"],a=i&&(0===i.indexOf("application/json")||0===i.indexOf("text/json")),c=this.responseText;try{c=JSON.parse(c)}catch(e){if(a)return n(new Error("Invalid json: "+this.responseText+"."))}return e({status:this.status,headers:o,body:c})}),!1),w.addEventListener("error",(function(e){n(new Error("Request to "+r.toLowerCase()+" "+t+" failed: "+e.toString()+"."))}),!1),w.open(r,t,!0),o)o.hasOwnProperty(g)&&w.setRequestHeader(g,o[g]);a?u=JSON.stringify(a):c&&(u=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+(c?encodeURIComponent(c[e]):"")})).join("&")),w.timeout=d,w.ontimeout=function(){n(new Error("Request to "+r.toLowerCase()+" "+t+" has timed out"))},w.send(u)}))}function Ee(){return new te(be)}function Se(){return te.resolve()}function Ce(e){return new te((function(t,n){var r=document.body||document.head;if(!r)return n(new Error("Can not find container for script: "+e));var o=document.createElement("script");o.setAttribute("src",e),o.addEventListener("load",(function(){return t(o)})),o.addEventListener("error",(function(e){return n(e)})),r.appendChild(o)}))}function Pe(){return"undefined"==typeof window}var je=["warn","error"],Oe=["error","warn","info","debug"];function Ne(e){return De({url:e.url,method:e.method,headers:e.headers,json:e.json}).then(be)}function Re(e,t){for(var n in t)t.hasOwnProperty(n)&&t[n]&&!e[n]&&(e[n]=t[n])}var Le,He,Ue=((Le={}).paypal="/smart/checkout/native",Le.venmo="/smart/checkout/venmo",(He={}).paypal="/smart/checkout/native/popup",He.venmo="/smart/checkout/venmo/popup","https://www.paypalobjects.com/checkout/js/lib/firebase-app.js");function We(){return ge(We,(function(){return function(e){var t=e.url,n=e.prefix,r=e.logLevel,o=void 0===r?"warn":r,i=e.transport,a=void 0===i?Ne:i,c=e.flushInterval,u=void 0===c?6e4:c,s=[],l=[],f=[],d=[],p=[],h=[];function _(e,t,n){if(Ie()&&window.console&&window.console.log&&!(Oe.indexOf(e)>Oe.indexOf(o))){var r=[t];r.push(n),(n.error||n.warning)&&r.push("\n\n",n.error||n.warning);try{window.console[e]&&window.console[e].apply?window.console[e].apply(window.console,r):window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,r)}catch(e){}}}function v(){return te.try((function(){if(Ie()&&"file:"!==window.location.protocol&&(s.length||l.length)){for(var e={},n=0;n<d.length;n++)Re(e,(0,d[n])(e));for(var r={},o=0;o<h.length;o++)Re(r,(0,h[o])(r));var i=a({method:"POST",url:t,headers:r,json:{events:s,meta:e,tracking:l}});return s=[],l=[],i.then(be)}}))}var m,y,w,g,b=(void 0===y&&(y=50),ve((function(){g&&clearTimeout(g);var e=w=w||new te;return g=setTimeout((function(){w=null,g=null,te.try(m).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}))}),y),e}),_e(m=v)+"::promiseDebounced"));function k(e,t,r){if(void 0===r&&(r={}),!Ie())return x;n&&(t=n+"_"+t);for(var o=ne({},ke(r),{timestamp:Date.now().toString()}),i=0;i<f.length;i++)Re(o,(0,f[i])(o));return function(e,t,n){s.push({level:e,event:t,payload:n}),-1!==je.indexOf(e)&&b()}(e,t,o),_(e,t,o),x}function A(e,t){return e.push(t),x}Ie()&&function(e,t){!function n(){setTimeout((function(){e(),n()}),t)}()}(b,u);var x={debug:function(e,t){return k("debug",e,t)},info:function(e,t){return k("info",e,t)},warn:function(e,t){return k("warn",e,t)},error:function(e,t){return k("error",e,t)},track:function(e){if(void 0===e&&(e={}),!Ie())return x;for(var t=ke(e),n=0;n<p.length;n++)Re(t,(0,p[n])(t));return _("debug","track",t),l.push(t),x},flush:b,immediateFlush:v,addPayloadBuilder:function(e){return A(f,e)},addMetaBuilder:function(e){return A(d,e)},addTrackingBuilder:function(e){return A(p,e)},addHeaderBuilder:function(e){return A(h,e)},setTransport:function(e){return a=e,x}};return x}({url:"/xoplatform/logger/api/logger"})}))}function Me(e){var t,n=e.accessToken,r=e.method,o=e.url,i=e.data,a=e.headers;if(!n)throw new Error("No access token passed to "+o);var c=ne(((t={}).authorization="Bearer "+n,t["content-type"]="application/json",t),a);return De({method:r,url:o,headers:c,json:i}).then((function(e){var t=e.status,n=e.body;if(t>=300)throw new Error(o+" returned status: "+t+" (Corr ID: "+e.headers["paypal-debug-id"]+")");return n}))}function ze(e){var t,n=e.accessToken,r=e.url,o=e.method,i=void 0===o?"get":o,a=e.json,c=((t={})["x-requested-by"]="smart-payment-buttons",t);return n&&(c["x-paypal-internal-euat"]=n),De({url:r,method:i,headers:c,json:a}).then((function(e){var t=e.status,n=e.body,o=e.headers;if("contingency"===n.ack){var i=new Error(n.contingency);throw i.data=n.data,i}if(t>400)throw new Error("Api: "+r+" returned status code: "+t+" (Corr ID: "+o["paypal-debug-id"]+")");if("success"!==n.ack)throw new Error("Api: "+r+" returned ack: "+n.ack+" (Corr ID: "+o["paypal-debug-id"]+")");return n.data}))}function qe(e){var t=e.variables,n=e.headers;return De({url:"/graphql",method:"POST",json:{query:e.query,variables:void 0===t?{}:t},headers:ne({"x-app-name":"smart-payment-buttons"},void 0===n?{}:n)}).then((function(e){var t=e.status,n=e.body,r=n.errors||[];if(r.length){var o=r[0].message||JSON.stringify(r[0]);throw new Error(o)}if(200!==t)throw new Error("/graphql returned status "+t);return n.data}))}function Be(e){return ze({method:"post",url:"/smart/api/payment/"+e+"/ectoken"}).then((function(e){return e.token}))}function Fe(e){return ze({method:"post",url:"/smart/api/billagmt/subscriptions/"+e+"/cartid"}).then((function(e){return e.token}))}function $e(e,t){var n=e.createOrder,r=e.currency,o=t.createBillingAgreement,i=t.createSubscription,a={},c=function(e){var t=e.facilitatorAccessToken,n=e.intent,r=e.currency,o=e.merchantID,i=e.partnerAttributionID,a=function(e){var t=e.facilitatorAccessToken,n=e.intent,r=e.currency,o=e.merchantID,i=e.partnerAttributionID;return{create:function(e){var a=ne({},e);if(a.intent&&a.intent.toLowerCase()!==n)throw new Error("Unexpected intent: "+a.intent+" passed to order.create. Please ensure you are passing /sdk/js?intent="+a.intent.toLowerCase()+" in the paypal script tag.");return(a=ne({},a,{intent:n.toUpperCase()})).purchase_units=a.purchase_units.map((function(e){if(e.amount.currency_code&&e.amount.currency_code!==r)throw new Error("Unexpected currency: "+e.amount.currency_code+" passed to order.create. Please ensure you are passing /sdk/js?currency="+e.amount.currency_code+" in the paypal script tag.");var t=e.payee;if(t&&o&&o.length){if(!o[0])throw new Error("Pass merchant-id=XYZ in the paypal script tag.");if(t.merchant_id&&t.merchant_id!==o[0])throw new Error('Expected payee.merchant_id to be "'+o[0]+'"')}return o&&(t=ne({},t,{merchant_id:o[0]})),ne({},e,{payee:t,amount:ne({},e.amount,{currency_code:r})})})),a.application_context=a.application_context||{},function(e,t){var n,r=t.facilitatorAccessToken,o=t.partnerAttributionID;return We().info("rest_api_create_order_id"),Me({accessToken:r,method:"post",url:"/v2/checkout/orders",data:e,headers:(n={},n["paypal-partner-attribution-id"]=o||"",n)}).then((function(e){var t,n=e&&e.id;if(!n)throw new Error("Order Api response error:\n\n"+JSON.stringify(e,null,4));return We().track(((t={}).transition_name="process_create_order",t.context_type="EC-Token",t.token=n,t.context_id=n,t)),n}))}(a,{facilitatorAccessToken:t,partnerAttributionID:i,forceRestAPI:!1})}}}({facilitatorAccessToken:t,intent:n,currency:r,merchantID:o,partnerAttributionID:i});return function(e){var t=e.facilitatorAccessToken,n=e.intent,r=e.currency,o=e.merchantID,i=e.partnerAttributionID}({facilitatorAccessToken:t,intent:n,currency:r,merchantID:o,partnerAttributionID:i}),{order:a,payment:null}}({facilitatorAccessToken:t.facilitatorAccessToken,intent:e.intent,currency:r,merchantID:e.merchantID,partnerAttributionID:e.partnerAttributionID});return we((function(){var e=Ae(window.location.search.slice(1)).orderID;if(e)return te.resolve(e);var t=Date.now();return te.try((function(){return o?o().then(Be):i?i().then(Fe):n?n(a,c):c.order.create({purchase_units:[{amount:{currency_code:r,value:"0.01"}}]})})).then((function(e){var n;if(!e||"string"!=typeof e)throw new Error("Expected an order id to be passed");if(0===e.indexOf("PAY-")||0===e.indexOf("PAYID-"))throw new Error("Do not pass PAY-XXX or PAYID-XXX directly into createOrder. Pass the EC-XXX token instead");var r=Date.now()-t;return We().track((n={},n.state_name="smart_button",n.transition_name="process_receive_order",n.context_type="EC-Token",n.context_id=e,n.token=e,n.response_duration=r.toString(),n)).flush(),e}))}))}function Ye(e,t){var n=e.intent,r=e.onApprove,o=void 0===r?function(e){return function(t,n){if("capture"===e)return n.order.capture().then(be);if("authorize"===e)return n.order.authorize().then(be);throw new Error("Unsupported intent for auto-capture: "+e)}}(n):r,i=e.partnerAttributionID,a=e.onError,c=e.upgradeLSAT,u=void 0!==c&&c,s=t.facilitatorAccessToken,l=t.createOrder;if(!o)throw new Error("Expected onApprove");return we((function(e,t){var r=e.payerID,c=e.paymentID,f=e.billingToken,d=e.subscriptionID,p=e.buyerAccessToken,h=e.forceRestAPI,_=void 0===h?u:h,v=t.restart;return te.try((function(){if(u&&p)return l().then((function(e){return function(e,t){var n,r=t.buyerAccessToken,o=t.orderID;return qe({headers:(n={},n["x-paypal-internal-euat"]=r,n),query:"\n            mutation UpgradeFacilitatorAccessToken(\n                $orderID: String!\n                $buyerAccessToken: String!\n                $facilitatorAccessToken: String!\n            ) {\n                upgradeLowScopeAccessToken(\n                    token: $orderID\n                    buyerAccessToken: $buyerAccessToken\n                    merchantLSAT: $facilitatorAccessToken\n                )\n            }\n        ",variables:{facilitatorAccessToken:e,buyerAccessToken:r,orderID:o}}).then(be)}(s,{buyerAccessToken:p,orderID:e})}))})).then((function(){return l()})).then((function(e){var t;We().info("button_approve").track((t={},t.transition_name="process_checkout_approve",t.token=e,t)).flush();var u={orderID:e,payerID:r,paymentID:c,billingToken:f,subscriptionID:d,facilitatorAccessToken:s},l=function(e){var t=e.intent,n=e.orderID,r=e.paymentID,o=e.payerID,i=e.restart,a=e.subscriptionID,c=e.facilitatorAccessToken,u=e.buyerAccessToken,s=e.partnerAttributionID,l=e.forceRestAPI,f=we((function(){if(!a)throw new Error("No subscription ID present");return function(e,t){return ze({accessToken:t.buyerAccessToken,url:"/smart/api/billagmt/subscriptions/"+e})}(a,{buyerAccessToken:u})})),d=we((function(){if(!a)throw new Error("No subscription ID present");return function(e,t){return ze({accessToken:t.buyerAccessToken,method:"post",url:"/smart/api/billagmt/subscriptions/"+e+"/activate"})}(a,{buyerAccessToken:u})})),p=function(e){var t=e.intent,n=e.orderID,r=e.restart,o=e.facilitatorAccessToken,i=e.buyerAccessToken,a=e.partnerAttributionID,c=e.forceRestAPI,u=function(e){if(e&&e.data&&e.data.details&&e.data.details.some((function(e){return"INSTRUMENT_DECLINED"===e.issue||"PAYER_ACTION_REQUIRED"===e.issue})))return r().then(Ee);throw new Error("Order could not be captured")},s=we((function(){return function(e,t){var n,r=t.buyerAccessToken,o=t.forceRestAPI;return void 0!==o&&o?Me({accessToken:t.facilitatorAccessToken,url:"/v2/checkout/orders/"+e,headers:(n={},n["paypal-partner-attribution-id"]=t.partnerAttributionID||"",n)}):ze({accessToken:r,url:"/smart/api/order/"+e})}(n,{facilitatorAccessToken:o,buyerAccessToken:i,partnerAttributionID:a,forceRestAPI:c})})),l=we((function(){if("capture"!==t)throw new Error("Use intent=capture to use client-side capture");return function(e,t){var n,r=t.buyerAccessToken,o=t.forceRestAPI;return void 0!==o&&o?Me({accessToken:t.facilitatorAccessToken,method:"post",url:"/v2/checkout/orders/"+e+"/capture",headers:(n={},n["paypal-partner-attribution-id"]=t.partnerAttributionID||"",n)}):ze({accessToken:r,method:"post",url:"/smart/api/order/"+e+"/capture"})}(n,{facilitatorAccessToken:o,buyerAccessToken:i,partnerAttributionID:a,forceRestAPI:c}).finally(s.reset).finally(l.reset).catch(u)})),f=we((function(){if("authorize"!==t)throw new Error("Use intent=authorize to use client-side authorize");return function(e,t){var n,r=t.buyerAccessToken,o=t.forceRestAPI;return void 0!==o&&o?Me({accessToken:t.facilitatorAccessToken,method:"post",url:"/v2/checkout/orders/"+e+"/authorize",headers:(n={},n["paypal-partner-attribution-id"]=t.partnerAttributionID||"",n)}):ze({accessToken:r,method:"post",url:"/smart/api/order/"+e+"/authorize"})}(n,{facilitatorAccessToken:o,buyerAccessToken:i,partnerAttributionID:a,forceRestAPI:c}).finally(s.reset).finally(f.reset).catch(u)}));return{capture:l,authorize:f,patch:function(e){return void 0===e&&(e={}),function(e,t,n){var r,o=n.facilitatorAccessToken,i=n.buyerAccessToken,a=n.partnerAttributionID,c=n.forceRestAPI,u=void 0!==c&&c,s=Array.isArray(t)?{patch:t}:t;return u?Me({accessToken:o,method:"patch",url:"/v2/checkout/orders/"+e,data:s,headers:(r={},r["paypal-partner-attribution-id"]=a||"",r)}):ze({accessToken:i,method:"post",url:"/smart/api/order/"+e+"/patch",json:{data:s}})}(n,e,{facilitatorAccessToken:o,buyerAccessToken:i,partnerAttributionID:a,forceRestAPI:c}).catch((function(){throw new Error("Order could not be patched")}))},get:s}}({intent:t,orderID:n,paymentID:r,payerID:o,subscriptionID:a,restart:i,facilitatorAccessToken:c,buyerAccessToken:u,partnerAttributionID:s,forceRestAPI:l});return function(e){var t=e.intent,n=e.paymentID,r=e.payerID,o=e.restart,i=e.facilitatorAccessToken,a=e.buyerAccessToken,c=e.partnerAttributionID;if(n)var u=function(e){if(e&&e.data&&e.data.details&&e.data.details.some((function(e){return"INSTRUMENT_DECLINED"===e.issue||"PAYER_ACTION_REQUIRED"===e.issue})))return o().then(Ee);throw new Error("Order could not be captured")},s=we((function(){return function(e,t){var n;return Me({accessToken:t.facilitatorAccessToken,url:"/v1/payments/payment/"+e,headers:(n={},n["paypal-partner-attribution-id"]=t.partnerAttributionID||"",n)})}(n,{facilitatorAccessToken:i,buyerAccessToken:a,partnerAttributionID:c})})),l=we((function(){if(!r)throw new Error("payerID required for payment execute");if("capture"!==t)throw new Error("Use intent=capture to use client-side capture");return function(e,t,n){var r;return Me({accessToken:n.facilitatorAccessToken,method:"post",url:"/v1/payments/payment/"+e+"/execute",headers:(r={},r["paypal-partner-attribution-id"]=n.partnerAttributionID||"",r),data:{payer_id:t}})}(n,r,{facilitatorAccessToken:i,buyerAccessToken:a,partnerAttributionID:c}).finally(s.reset).finally(l.reset).catch(u)}))}({intent:t,orderID:n,paymentID:r,payerID:o,subscriptionID:a,restart:i,facilitatorAccessToken:c,buyerAccessToken:u,partnerAttributionID:s,forceRestAPI:l}),{order:p,payment:null,subscription:{get:f,activate:d},restart:i,redirect:function(e){if(!e)throw new Error("Expected redirect url");if(-1===e.indexOf("://"))throw We().warn("redir_url_non_scheme",{url:e}).flush(),new Error("Invalid redirect url: "+e+" - must be fully qualified url");return e.match(/^https?:\/\//)||We().warn("redir_url_non_http",{url:e}).flush(),xe(e,window.top)}}}({orderID:e,paymentID:c,payerID:r,intent:n,restart:v,subscriptionID:d,facilitatorAccessToken:s,buyerAccessToken:p,partnerAttributionID:i,forceRestAPI:_});return o(u,l).catch((function(e){return te.try((function(){return a(e)})).then((function(){throw e}))}))}))}))}function Xe(e,t){var n=e.onCancel,r=void 0===n?Se:n,o=e.onError,i=t.createOrder;return we((function(){return i().then((function(e){var t;return We().info("button_cancel").track((t={},t.transition_name="process_checkout_cancel",t.token=e,t)).flush(),r({orderID:{orderID:e}.orderID},{redirect:function(e){if(!e)throw new Error("Expected redirect url");if(-1===e.indexOf("://"))throw We().warn("redir_url_non_scheme",{url:e}).flush(),new Error("Invalid redirect url: "+e+" - must be fully qualified url");return e.match(/^https?:\/\//)||We().warn("redir_url_non_http",{url:e}).flush(),xe(e,window.top)}})})).catch((function(e){return o(e)}))}))}we((function(e){return qe({query:"\n            query GetCheckoutDetails($orderID: String!) {\n                checkoutSession(token: $orderID) {\n                    cart {\n                        intent\n                        amounts {\n                            total {\n                                currencyCode\n                            }\n                        }\n                        shippingAddress {\n                            isFullAddress\n                        }\n                    }\n                    flags {\n                        hideShipping\n                        isShippingAddressRequired\n                        isChangeShippingAddressAllowed\n                    }\n                }\n            }\n        ",variables:{orderID:e}})})),we((function(e){return te.try((function(){if(!window.firebase||!window.firebase.auth||!window.firebase.database)return Ce(Ue).then((function(){return te.all([Ce("https://www.paypalobjects.com/checkout/js/lib/firebase-auth.js"),Ce("https://www.paypalobjects.com/checkout/js/lib/firebase-database.js")])}))})).then((function(){var t=window.firebase;if(!t)throw new Error("Firebase failed to load");return t.initializeApp(e),t}))}));var Je,Ze,Ge,Qe=[],Ve=r.__r,Ke=r.diffed,et=r.__c,tt=r.unmount;function nt(e){r.__h&&r.__h(Ze);var t=Ze.__H||(Ze.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function rt(e){return function(e,t,n){var r=nt(Je++);return r.__c||(r.__c=Ze,r.__=[ut(void 0,t),function(t){var n=e(r.__[0],t);r.__[0]!==n&&(r.__[0]=n,r.__c.setState({}))}]),r.__}(ut,e)}function ot(e,t){var n=nt(Je++);(function(e,t){return!e||t.some((function(t,n){return t!==e[n]}))})(n.__H,t)&&(n.__=e,n.__H=t,Ze.__H.__h.push(n))}function it(){Qe.some((function(e){if(e.__P)try{e.__H.__h.forEach(at),e.__H.__h.forEach(ct),e.__H.__h=[]}catch(t){return r.__e(t,e.__v),!0}})),Qe=[]}function at(e){e.t&&e.t()}function ct(e){var t=e.__();"function"==typeof t&&(e.t=t)}function ut(e,t){return"function"==typeof t?t(e):t}r.__r=function(e){Ve&&Ve(e),Je=0,(Ze=e.__c).__H&&(Ze.__H.__h.forEach(at),Ze.__H.__h.forEach(ct),Ze.__H.__h=[])},r.diffed=function(e){Ke&&Ke(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==Qe.push(t)&&Ge===r.requestAnimationFrame||((Ge=r.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(it))}},r.__c=function(e,t){t.some((function(e){try{e.__h.forEach(at),e.__h=e.__h.filter((function(e){return!e.__||ct(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.__e(n,e.__v)}})),et&&et(e,t)},r.unmount=function(e){tt&&tt(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){r.__e(e,t.__v)}}};var st,lt,ft=(st={},(lt={__c:"__cC"+s++,__:void 0,Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,n=this;return this.getChildContext||(t=[],this.getChildContext=function(){return st[lt.__c]=n,st},this.shouldComponentUpdate=function(n){e.value!==n.value&&t.some((function(e){e.context=n.value,b(e)}))},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}}).Consumer.contextType=lt,lt),dt=function(e){var t=e.cspNonce,n=e.children,r=void 0===n?null:n,o=rt({}),i=o[0],a=o[1];return _(ft.Provider,{value:{cspNonce:t,addStyle:function(e){var t;Pe()?i=ne({},i,((t={})[e]=(i[e]||0)+1,t)):a((function(t){var n;return ne({},t,((n={})[e]=(t[e]||0)+1,n))}))},removeStyle:function(e){var t;Pe()?i=ne({},i,((t={})[e]=(i[e]||0)-1,t)):a((function(t){var n;return ne({},t,((n={})[e]=(t[e]||0)-1,n))}))}}},r,_((function(){var e=Object.keys(i).filter((function(e){return i[e]>0})).join("\n");return _("style",{nonce:t},e)}),null))},pt=function(e){var t=e.css,n=e.children,r=void 0===n?null:n,o=function(e){var t=Ze.context[e.__c];if(!t)return e.__;var n=nt(Je++);return null==n.__&&(n.__=!0,t.sub(Ze)),t.props.value}(ft),i=o.addStyle,a=o.removeStyle,c=t._getCss();return Pe()?i(c):ot((function(){return i(c),function(){return a(c)}}),[c]),r},ht=function(){return _("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_("title",null,"Icons/check"),_("desc",null,"Created with Sketch."),_("g",{id:"-Icon-Library",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_("g",{id:"Icons/check",transform:"translate(-6.000000, -7.000000)",fill:"#0070BA","fill-rule":"nonzero"},_("path",{d:"M11.4121381,19.6994417 L22.6691362,7.6974334 C22.9052747,7.44566678 23.3008,7.43299769 23.5525666,7.6691362 C23.8043332,7.90527472 23.8170023,8.30079998 23.5808638,8.5525666 L11.8567862,21.0525666 C11.6057696,21.3201959 11.1792894,21.315028 10.9348317,21.0413946 L6.40890929,15.9753097 C6.17894091,15.7178949 6.20119062,15.3227928 6.45860541,15.0928244 C6.7160202,14.862856 7.11112232,14.8851057 7.34109071,15.1425205 L11.4121381,19.6994417 Z",id:"Path"}))))},_t=n(2),vt=n.n(_t),mt=function(e){var t=e.selected,n=e.details,r=e.selectWalletItemHandler,o=e.listOpen,i=e.listOpenHandler,a=rt(t),c=a[0],u=a[1];return ot((function(){u(t)}),[t]),_(pt,{css:vt.a,"data-v-fdd787a1":""},_("div",{className:"wallet-item "+(t?"selected-wallet-item":""),onClick:function(){return r(n.id),void i(!o)},"data-v-fdd787a1":""},_("div",{className:"icon","data-v-fdd787a1":""},_("img",{src:n.fundingOptionIcon,"data-v-fdd787a1":""})),_("div",{className:"description","data-v-fdd787a1":""},_("div",{className:"name","data-v-fdd787a1":""},n.fundingOptionTitle),_("div",{className:"details","data-v-fdd787a1":""},_("span",{className:"type","data-v-fdd787a1":""},n.instrumentSubType," "),_("span",{className:"digits","data-v-fdd787a1":""},n.lastDigits))),n.showPreferredText?_("div",{className:"preferred","data-v-fdd787a1":""},"PREFERRED"):"",_("div",{className:"flex-spacer","data-v-fdd787a1":""}),c?_("div",{className:"selected","data-v-fdd787a1":""},_(ht,{"data-v-fdd787a1":""})):""))},yt=n(3),wt=n.n(yt),gt=function(){return _(pt,{css:wt.a,"data-v-d7b06a5e":""},_("div",{"data-v-d7b06a5e":""},"This is where the credit messaging goes..."))},bt=function(e){var t=e.fundingInstrument,n=t.image,r=t.name,o=t.issuerProductDescription,i=t.instrumentSubType,a=t.lastDigits,c=t.isPreferred;return{id:e.id,fundingOptionIcon:n?n.url.href:function(e,t){var n="https://www.paypalobjects.com/ui-web";switch(e){case"BANK_ACCOUNT":return n+"/money-icons/bank/generic_bank.png";case"PAYPAL_CREDIT":switch(t){case"EBAY_MASTERCARD":return n+"/money-icons/card/ebay_mastercard.png";case"PAYPAL_EXTRAS_MASTERCARD":return n+"/money-icons/card/extrasMastercardLogo.svg";default:return n+"/wallet-icons/bank/PP_Credit_large.svg"}default:return n+"/wallet-icons/bank/PP_Balance_large.svg"}}(t.type,r),fundingOptionTitle:"PAYPAL"===i?"PayPal Credit":o||r,instrumentSubType:"PAYPAL"===i?"Pay overtime for your purchase":i,showPreferredText:c,lastDigits:"PAYPAL"===i?"":" "+(a||"")}},kt=n(4),At=n.n(kt),xt=function(e){var t=e.checkoutSession,n=t.fundingOptions,r=rt(!1),o=r[0],i=r[1],a=rt(n[0]),c=a[0],u=a[1],s=function(e){var t=n.find((function(t){return t.id===e}));u(t)};return _(pt,{css:At.a,"data-v-d2ff3bcf":""},_("div",{className:"wallet","data-v-d2ff3bcf":""},o?"":_(mt,{selected:!0,details:bt(c),selectWalletItemHandler:s,listOpen:o,listOpenHandler:i,"data-v-d2ff3bcf":""}),o?_("div",{"data-v-d2ff3bcf":""},n.map((function(e){return _(mt,{selected:e.id===c.id,details:bt(e),selectWalletItemHandler:s,listOpen:o,listOpenHandler:i,"data-v-d2ff3bcf":""})})),_(gt,{checkoutSession:t,"data-v-d2ff3bcf":""}),_("div",{className:"add-card-button","data-v-d2ff3bcf":""},_("a",{href:"#","data-v-d2ff3bcf":""},"Add debit or credit card"))):""))},It=n(5),Tt=n.n(It),Dt=function(e){return _(pt,{css:Tt.a},_(xt,{checkoutSession:e.checkoutSession}))};function Et(){throw new Error("Not implemented")}function St(e){return _(dt,{cspNonce:e.cspNonce},_(Dt,{checkoutSession:e.checkoutSession}))}function Ct(e){return Y(_(St,e))}function Pt(e){var t,n,o,i,a,c,s,d,p,h,v,y,w,g,b,k,A,x,I,T,D,C,P,j,O,N,R,L,H,U=e.buyerAccessToken,W=e.cspNonce,M=e.checkoutSession;!function(e,t){var n=t.checkoutSession,r=t.buyerAccessToken;(0,e.setup)({},{submit:function(){return function(e,t){var n=t.buyerAccessToken,r=e.onApprove,o=t.checkoutSession.fundingOptions[0].allPlans[0].id;return(0,e.createOrder)().then((function(e){return qe({query:"\n            mutation ApproveOrder(\n                $orderID : String!\n                $planID : String!\n            ) {\n                approvePayment(\n                    token: $orderID\n                    selectedPlanId: $planID\n                ) {\n                    buyer {\n                        userId\n                    }\n                }\n            }\n        ",variables:{orderID:(t={orderID:e,planID:o,buyerAccessToken:n}).orderID,planID:t.planID},headers:(r={},r["x-paypal-internal-euat"]=t.buyerAccessToken,r)}).then((function(e){return{payerID:e.approvePayment.buyer.userId}}));var t,r})).then((function(e){return r({payerID:e.payerID},{restart:Et})}))}(e,{checkoutSession:n,buyerAccessToken:r})}})}((t={facilitatorAccessToken:e.facilitatorAccessToken},n=t.facilitatorAccessToken,o=function(){if(window.xprops)return window.xprops;throw new Error("No xprops found")}(),i=o.env,a=o.vault,c=o.commit,s=o.locale,d=o.platform,p=o.sessionID,h=o.intent,v=o.walletSessionID,y=o.clientID,w=o.partnerAttributionID,g=o.correlationID,b=o.getParentDomain,k=o.clientAccessToken,A=o.getPageUrl,x=o.remember,I=o.onError,T=o.stageHost,D=o.apiStageHost,C=o.style,P=o.getParent,j=o.currency,O=o.merchantID,N=o.setup,R=void 0===N?Se:N,L="function"==typeof b?b():"unknown",H=$e({createOrder:o.createOrder,currency:j,intent:h,merchantID:O,partnerAttributionID:w},{facilitatorAccessToken:n}),{env:i,style:C,locale:s,sessionID:p,walletSessionID:v,clientID:y,partnerAttributionID:w,correlationID:g,platform:d,currency:j,commit:c,vault:a,merchantDomain:L,getPageUrl:A,rememberFunding:x,getParent:P,setup:R,clientAccessToken:k,onError:I,stageHost:T,apiStageHost:D,createOrder:H,onApprove:Ye({onApprove:o.onApprove,intent:h,onError:I,partnerAttributionID:w,upgradeLSAT:!1},{facilitatorAccessToken:n,createOrder:H}),onCancel:Xe({onCancel:o.onCancel,onError:I},{createOrder:H})}),{checkoutSession:M,buyerAccessToken:U}),function(e,t,n){var o,i,a;r.__&&r.__(e,t),i=(o=n===u)?null:t.__k,e=_(m,null,[e]),a=[],E(t,t.__k=e,i||l,l,void 0!==t.ownerSVGElement,i?null:f.slice.call(t.childNodes),a,l,o),S(a,e)}(_(St,{cspNonce:W,checkoutSession:M}),function(){var e=document.body;if(!e)throw new Error("Document body not found");return e}().querySelector("#wallet-container"))}}])}));
//# sourceMappingURL=smart-wallet.min.js.map